<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>모바일 청첩장 - 이미지 갤러리</title>
    <link rel="stylesheet" type="text/css" href="./style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Diphylleia&family=Gowun+Batang&family=Nanum+Brush+Script&family=Song+Myung&display=swap" rel="stylesheet">

    <link rel="preload" as="image" href="./img/prev/1.jpg">
    <link rel="preload" as="image" href="./img/prev/2.jpg">
    <link rel="preload" as="image" href="./img/prev/3.jpg">
    <link rel="preload" as="image" href="./img/prev/4.jpg">
    <link rel="preload" as="image" href="./img/prev/5.jpg">
    <link rel="preload" as="image" href="./img/prev/6.jpg">
    <link rel="preload" as="image" href="./img/prev/7.jpg">
    <link rel="preload" as="image" href="./img/prev/8.jpg">
    <link rel="preload" as="image" href="./img/prev/9.jpg">
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="./img/title.jpg" alt="결혼식 이미지">
        </div>
        <br>
        <div class="content">
            <div class="title-name">
                <h1>이보형</h1>
                <div class="title-name-time">
                    <p>11</p>
                    <hr class="hr-2"/>
                    <p>03</p>
                </div>
            <h1>송영주</h1>    
            </div>
            <br>
            <div class="title-time">2024.11.03 SUN. 11:00 AM</div>
            <div class="title-location">수원 더아리엘</div>
            <br>
            <br>
            <hr class="hr-3"/>
        </div>
        <div class="animate-on-scroll">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="sub-title">I N V I T A T I O N</div>
            <div class="title">초대합니다</div>
            <br>
            <br>
            <br>
            <div class="details">
                <p>서로가 마주보며 다져온 사랑을</p>
                <p>이제 함께 한 곳을 바라보며</p>
                <p>걸어갈 수 있는 큰 사랑으로 키우고자 합니다.</p>
                <p>저희 두 사람이 사랑의 이름으로</p>
                <p>지켜나갈 수 있게 앞날을</p>
                <p>축복해 주시면 감사하겠습니다.</p>
            </div>
            <br>
            <br>
            <br>
            <div class="container">
                <div class="name"><span class="emphasized">이인우 • 정선하</span> 의 장남 <span class="emphasized">이보형</span></div>
                <div class="name"><span class="emphasized">송왕호 • 하영선</span> 의 장녀 <span class="emphasized">송영주</span></div>
            </div>
            <br>
        </div>
        <div class="theme-color">
            <div class="animate-on-scroll">
            <br>
            <br>
            <br>
            <br>
            <br>
                <p class="sub-title">C O N T A C T</p>
                <p class="title">연락하기</p>
                <br>
                <br>
                <div class="contact-container">
                    <div class="contact">
                        <div class="contact-contents">신랑</div>
                        <div class="contact-contents">
                            <a href="tel:01037037559">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01037037559">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                    <div class="contact">
                        <div class="contact-contents">신부</div>
                        <div class="contact-contents">
                            <a href="tel:01038340371">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01038340371">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <div class="contact-container">
                    <div class="contact">
                        <div class="contact-contents">신랑 아버지</div>
                        <div class="contact-contents">
                            <a href="tel:01037231849">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01037231849">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                    <div class="contact">
                        <div class="contact-contents">신랑 어머님</div>
                        <div class="contact-contents">
                            <a href="tel:01039301849">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01039301849">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <div class="contact-container">
                    <div class="contact">
                        <div class="contact-contents">신부 아버지</div>
                        <div class="contact-contents">
                            <a href="tel:01091435275">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01091435275">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                    <div class="contact">
                        <div class="contact-contents">신부 어머니</div>
                        <div class="contact-contents">
                            <a href="tel:01091040371">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_call.svg" alt="전화">
                            </a>
                            <a href="sms:01091040371">
                                <img src="https://static.barunsoncard.com/barunsonmcard/invitation/icon/ico_24_sms.svg" alt="이메일">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
        <div class="animate-on-scroll">
            <div class="day"><b>♥</b></div>
            <div class="day"><b>2024.11.03</b></div>
            <div class="time"><b>일요일 오전 11시</b></div>
            <br>
            <br>
            <div class="calendar">
                <table>
                    <thead class="week">
                        <tr>
                            <th class="sunday">일</th>
                            <th>월</th>
                            <th>화</th>
                            <th>수</th>
                            <th>목</th>
                            <th>금</th>
                            <th>토</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>1</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="circle">3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                            <td>8</td>
                            <td>9</td>
                        </tr>
                        <tr>
                            <td class="sunday">10</td>
                            <td>11</td>
                            <td>12</td>
                            <td>13</td>
                            <td>14</td>
                            <td>15</td>
                            <td>16</td>
                        </tr>
                        <tr>
                            <td class="sunday">17</td>
                            <td>18</td>
                            <td>19</td>
                            <td>20</td>
                            <td>21</td>
                            <td>22</td>
                            <td>23</td>
                        </tr>
                        <tr>
                            <td class="sunday">24</td>
                            <td>25</td>
                            <td>26</td>
                            <td>27</td>
                            <td>28</td>
                            <td>29</td>
                            <td>30</td>
                        </tr>
                    </tbody>
                </table>
                <br>
                <br>
            </div>
            <div class="countdown">
                <div class="counter-box">
                    <div class="counter" id="days">00</div> 
                    <div class="counter-tag">DAYS</div> 
                </div>
                <div class="counter-colon"><b>:</b></div>
                <div class="counter-box">
                    <div class="counter" id="hours">00</div>  
                    <div class="counter-tag">HOUR</div>                 
                </div>
                <div class="counter-colon"><b>:</b></div>
                <div class="counter-box">
                    <div class="counter" id="minutes">00</div>  
                    <div class="counter-tag">MIN</div>                 
                </div>
                <div class="counter-colon"><b>:</b></div>
                <div class="counter-box">
                    <div class="counter" id="seconds">00</div> 
                    <div class="counter-tag">SEC</div> 
                </div>
            </div>
            <div class="countdown-message" id="countdown-message"></div>
            <br>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>    
        </div>
        <div class="animate-on-scroll">
            <p class="sub-title">G A L L E R Y</p>
            <p class="title">갤러리</p>
            <br>
            <div class="gallery" id="gallery"></div>        
            <button class="show-more-button" id="show_btn" onclick="show_more_img()">더보기</button>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            </div>        
        <div class="animate-on-scroll">
            <h1 class="sub-title">L O C A T I O N</h1>
            <h1 class="title">오시는 길</h1>
            <br>
            <br>
            <div class="location">
                <div class="location4"><b>수원 더 아리엘</b></div>
                <br>
                <div class="location2">경기도 수원시 팔달구 중부대로 181(우만동 147-7)</div>
                <div class="location2">031.214.9300</div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <div id="map" class="naver-map"></div>
                <!-- <div id="map" style="width: 70%; height: 500px; margin:auto"></div> -->
                <code id="snippet" class="snippet"></code>
                <!-- <a href="https://naver.me/Goz5OMre">
                    <img src="./img/map.png">
                </a> -->
                <br>
                <br>
                <p>대중 교통 안내</p>
                <div class="location3">
                    <p>수원역 4번출구 앞<br>
                        720-2,83-1, 10, 10-2, 10-5, 11-1, 37, 66-4, 13-4<br>
                        이용 후 수원고용센터, 동수원병원, 라마다호텔 앞 하차(도보 약 5분)<br>
                    </p>
                    <p>분당선 수원시청역 1번 출구 앞 / 82-1(직통)<br>
                        81,85(승차후 아주대 삼거리정류장에서 하차, 수원역 방향으로 환승)<br>
                        720-2, 11-1, 13-4 이용 후 우만신성아파트 하차<br>
                    </p>
                    <p>강남역 3007 이용 후 아주대병원입구 하차
                    </p>
                    <p>강남역 3002 이용 후 월드메르디앙 하차(도보 약 5분)
                    </p>
                    <p>사당역 7000,7001 이용 후 아주대병원입구 하차
                    </p>
                    <p>사당역 7002 이용 후 월드메르디앙 하차(도보 약5분)
                    </p>
                    <p>성남시청 또는 야탑역 4000 이용 후 청소년문화센터 하차
                    </p>
                </div>
                <br>
                <br>            
                <p>자가용 이용 안내</p>
                <div class="location3">
                    <p> 네비게이션에 "더 아리엘", 혹은 "우만동 147-7" 검색 </p>
                    <p> 동수원병원과 호텔캐슬 사이동수원IC ➤ 수지광주(좌회전) ➤ 월드컵경기장방향 우회전 ➤ 효성사거리(원형육교)직진 ➤ 고가밑우만사거리에서 우회전 ➤ 더 아리엘. </p>
                    <p> (우측)수원IC ➤ 수원시내방면(좌회전) 7km직진 ➤ 법원사거리(직진) ➤ 아주대삼거리(직진) ➤ 호텔캐슬(직진) ➤ 더 아리엘(우측). </p>
                    <p> 동수원사거리 ➤ 신갈방향 250m직진 ➤ 우만사거리유턴(신호없음) ➤ 더 아리엘(우측). </p>
                </div> 
                <br>
                <br>            
                <p>주차장 안내</p>
                <div class="location3">
                    <p> 
                        외부 주차장 이용 : 주차원 안내받고 다른 주차장으로 이동
                    </p>
                    <p>
                        건물 내 1층, 지하1층 주차장, 주차 타워 주차장 
                    </p>
                </div>
                <br>
                <br>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>    
        </div>
        <div class="animate-on-scroll">
            <h1 class="title">마음 전하실 곳</h1>
            <br>
            <br>
            <br>
            <button class="show-account-btn" onclick="openAccountModal(1)">신랑 측 계좌번호 보기</button>
            <button class="show-account-btn" onclick="openAccountModal(2)">신부 측 계좌번호 보기</button>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>    
        </div>
        <div class="animate-on-scroll">
            <div class="sub-title">G U E S T B O O K</div>
            <div class="title">방명록</div>
            <div class="container">
                <br>
                <br>
                <div class="form-group">
                    <label for="name">이름</label>
                    <input type="text" id="name" placeholder="이름">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" id="password" placeholder="비밀번호">
                </div>
                <div class="form-group">
                    <label for="content">축하메시지</label>
                    <textarea id="content" rows="4" placeholder="축하메시지"></textarea>
                </div>
                <div class="form-group">
                    <button onclick="addMessage()">축하메시지 남기기</button>
                </div>
                <div class="message-list" id="messageList"></div>
            </div>
            <br>
            <br>
            <br>
            </div>
        </div>
        </div>
    </div>

    <!-- 각자 발급받은 Client ID 값 넣기 -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ccseqeb3oq"></script>
    <script id="code">
         var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(37.2775552, 127.0362438), //지도의 초기 중심 좌표
            zoom: 16, //지도의 초기 줌 레벨
            minZoom: 8, //지도의 최소 줌 레벨
            zoomControl: false, //줌 컨트롤의 표시 여부
            draggable:false,
        });
        var marker = new naver.maps.Marker({
            position: new naver.maps.LatLng(37.2775552, 127.0362438),
            map: map
        });        
    </script>


    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <span class="prev" onclick="changeImage(-1)">&#10094;</span>
        <img class="modal-content" id="modalImg">
        <span class="next" onclick="changeImage(1)">&#10095;</span>
    </div>

    <div id="accountModal1" class="account-modal">
        <div class="account-modal-content">
            <div class="account-container">
                <p>신랑 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber1')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>국민 은행 &emsp; 이보형 &emsp;</p>
                <p><span id="accountNumber1">652702-04-348213</span> &emsp;</p>
            </div>
            <br>
            <br>
            <div class="account-container">
                <p>신랑 아버지 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber2')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>우리 은행 &emsp; 이인우 &emsp;</p>
                <p><span id="accountNumber2">1002 403 461572</span> &emsp;</p>
            </div>
            <br>
            <br>
            <div class="account-container">
                <p>신랑 어머니 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber3')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>우리 은행 &emsp; 정선하 &emsp;</p>
                <p><span id="accountNumber3">119-145650-02001</span> &emsp;</p>
            </div>
            <button class="accont-close-button" onclick="closeAccountModal(1)">닫기</button>
        </div>
    </div>

    <div id="accountModal2" class="account-modal">
        <div class="account-modal-content">
            <div class="account-container">
                <p>신부 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber4')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>카카오 뱅크 &emsp; 송영주 &emsp;</p>
                <p><span id="accountNumber4">3333-06-4377907</span> &emsp;</p>
            </div>
            <br>
            <br>
            <div class="account-container">
                <p>신부 아버지 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber5')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>기업 은행 &emsp; 송왕호 &emsp;</p>
                <p><span id="accountNumber5">545-019812-01-011</span> &emsp;</p>
            </div>
            <br>
            <br>
            <div class="account-container">
                <p>신부 어머니 계좌</p>
                <button class="copy-btn" onclick="copyAccountNumber('accountNumber6')">계좌번호 복사</button>
            </div>
            <div class="account-detail"> 
                <p>국민 은행 &emsp; 하영선 &emsp;</p>
                <p><span id="accountNumber6">079802-04-139795</span> &emsp;</p>
            </div>
            <button class="accont-close-button" onclick="closeAccountModal(2)">닫기</button>
        </div>
    </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
    <script> 
        require('dotenv').config();
        const jamong_key = process.env.API_KEY;
        console.log("test : ", jamong_key);


      // Firebase 설정
    const firebaseConfig = {
          apiKey: "AIzaSyDEQglxa8FBppYqo71YJqwjzlv4LgNyYAo",
          authDomain: "wedding-3648c.firebaseapp.com",
          projectId: "wedding-3648c",
          storageBucket: "wedding-3648c.appspot.com",
          messagingSenderId: "367628042673",
          appId: "1:367628042673:web:bec0a41f192982d4c03d90",
          measurementId: "G-E3HKFGV62C"
    };

    // Firebase 초기화

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.addEventListener('DOMContentLoaded', () => {
        loadMessages();
    });

    function loadMessages() {
        if (firebase.database() == null) {
            app = firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();  
        }

        const dbRef = firebase.database().ref();
        dbRef.child("messages").get().then((snapshot) => {
            console.log("trying to load msg");
            if (snapshot.exists()) {
                // console.log(snapshot.val());
                const messageList = document.getElementById('messageList');
                messageList.innerHTML = '';
                snapshot.forEach((doc) => {
                    const message = doc.val().content;
                    const name = doc.val().name;
                    console.log(message);
                    console.log(name);
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message';
                    messageDiv.innerHTML = `
                        <div class="message-content">
                            <strong>${name}</strong>
                            <p>${message}</p>
                        </div>
                        <span class="delete-btn" onclick="confirmDeleteMessage('${doc.val().name}')">&times;</span>
                    `;
                    messageList.appendChild(messageDiv);
                });
            } else {
                console.log("No data available");
                const messageList = document.getElementById('messageList');
                messageList.innerHTML = '';
            }
            }).catch((error) => {
            console.error(error);
        });
    }

    function addMessage() {
        const name = document.getElementById('name').value;
        const password = document.getElementById('password').value;
        const content = document.getElementById('content').value;

        if (name && password && content) {
            firebase.database().ref("messages/" + name ).set({
                name :name,
                password:password,
                content:content,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                document.getElementById('name').value = '';
                document.getElementById('password').value = '';
                document.getElementById('content').value = '';
                loadMessages();
            }).catch((error) => {
                console.error("Error adding message: ", error);
            });
        } else {
            alert('모든 필드를 입력해 주세요.');
        }
    }

    function confirmDeleteMessage(id) {
        const password = prompt('비밀번호를 입력해 주세요:');
        if (password !== null) {
            if (firebase.database() == null) {
                app = firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();  
            }
            const dbRef = firebase.database().ref();
            console.log("Try to delete message! " +  id);
            dbRef.child("messages").child(id).get().then((snapshot) => {
                console.log("Try to delete message! " +  id);
                if (snapshot.exists()) {
                    if(password == snapshot.val().password) {
                        console.log("Message successfully deleted!");
                        dbRef.child("messages").child(id).remove().then((snapshot) => {
                            window.location.reload();
                        })
                    } else {
                        alert('비밀번호가 일치하지 않습니다.');
                    }
                }
            });
        }
    }
    </script>
   
    <script src="./accounthandler.js"></script>
    <script src="./imagehandler.js"></script>
    <script src="./countdownhandler.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = {
                threshold: 0.1
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                        observer.unobserve(entry.target);
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            const elements = document.querySelectorAll('.animate-on-scroll');
            elements.forEach(element => {
                observer.observe(element);
            });
        });
    </script>
</body>
</html>
